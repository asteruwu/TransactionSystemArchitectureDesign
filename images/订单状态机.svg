<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" style="background: #ffffff; background-color: #ffffff; color-scheme: light;" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="503px" height="624px" viewBox="-0.5 -0.5 503 624"><defs/><rect fill="#ffffff" width="100%" height="100%" x="0" y="0" style="fill: rgb(255, 255, 255);"/><g><g data-cell-id="0"><g data-cell-id="1"><g data-cell-id="rhbHhM7paaSlAsIb1_o0-1"><g><ellipse cx="264" cy="7" rx="7" ry="7" fill="#000000" stroke="#000000" pointer-events="all" style="fill: rgb(0, 0, 0); stroke: rgb(0, 0, 0);"/></g></g><g data-cell-id="rhbHhM7paaSlAsIb1_o0-2"><g><rect x="224" y="122" width="79" height="40" rx="8" ry="8" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: rgb(255, 255, 255); stroke: rgb(0, 0, 0);"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: rgb(0, 0, 0);"><text x="263.5" y="147">PENDING</text></g></g></g><g data-cell-id="rhbHhM7paaSlAsIb1_o0-3"><g><rect x="149" y="287" width="47" height="40" rx="8" ry="8" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: rgb(255, 255, 255); stroke: rgb(0, 0, 0);"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: rgb(0, 0, 0);"><text x="172.5" y="312">PAID</text></g></g></g><g data-cell-id="rhbHhM7paaSlAsIb1_o0-4"><g><rect x="404" y="287" width="98" height="40" rx="8" ry="8" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: rgb(255, 255, 255); stroke: rgb(0, 0, 0);"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: rgb(0, 0, 0);"><text x="453" y="312">CANCELLED</text></g></g></g><g data-cell-id="rhbHhM7paaSlAsIb1_o0-5"><g><rect x="135" y="582" width="75" height="40" rx="8" ry="8" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: rgb(255, 255, 255); stroke: rgb(0, 0, 0);"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: rgb(0, 0, 0);"><text x="172.5" y="607">SHIPPED</text></g></g></g><g data-cell-id="rhbHhM7paaSlAsIb1_o0-6"><g><rect x="213" y="443" width="103" height="40" rx="8" ry="8" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: rgb(255, 255, 255); stroke: rgb(0, 0, 0);"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: rgb(0, 0, 0);"><text x="264.5" y="468">SHIP_FAILED</text></g></g></g><g data-cell-id="rhbHhM7paaSlAsIb1_o0-7"><g><path d="M 264 14 Q 264 14 264.26 115.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: rgb(0, 0, 0);"/><path d="M 264.27 120.88 L 260.75 113.89 L 264.26 115.63 L 267.75 113.87 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: rgb(0, 0, 0); stroke: rgb(0, 0, 0);"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: rgb(0, 0, 0);"><rect fill="#ffffff" stroke="none" x="157" y="55" width="215" height="27" stroke-width="0" style="fill: rgb(255, 255, 255);"/><text x="264.14" y="66">Lua 扣减库存成功</text><text x="264.14" y="79">(Redis Stream → order_created Consumer)</text></g></g></g><g data-cell-id="rhbHhM7paaSlAsIb1_o0-8"><g><path d="M 224 159.96 Q 82 224 146.59 282.72" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: rgb(0, 0, 0);"/><path d="M 150.48 286.25 L 142.94 284.13 L 146.59 282.72 L 147.65 278.95 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: rgb(0, 0, 0); stroke: rgb(0, 0, 0);"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: rgb(0, 0, 0);"><rect fill="#ffffff" stroke="none" x="29" y="199" width="163" height="27" stroke-width="0" style="fill: rgb(255, 255, 255);"/><text x="110.05" y="209.35">支付成功</text><text x="110.05" y="222.35">(order_status_events Consumer)</text></g></g></g><g data-cell-id="rhbHhM7paaSlAsIb1_o0-9"><g><path d="M 303 158.47 Q 453 224 453 280.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: rgb(0, 0, 0);"/><path d="M 453 285.88 L 449.5 278.88 L 453 280.63 L 456.5 278.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: rgb(0, 0, 0); stroke: rgb(0, 0, 0);"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: rgb(0, 0, 0);"><rect fill="#ffffff" stroke="none" x="334" y="184" width="146" height="41" stroke-width="0" style="fill: rgb(255, 255, 255);"/><text x="406.55" y="195.21">超时未支付</text><text x="406.55" y="208.21">(Cleanup Worker</text><text x="406.55" y="221.21">确认未付 → Restock → 取消)</text></g></g></g><g data-cell-id="rhbHhM7paaSlAsIb1_o0-10"><g><path d="M 264.31 162 Q 264 224 199.33 282.72" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: rgb(0, 0, 0);"/><path d="M 195.45 286.25 L 198.27 278.95 L 199.33 282.72 L 202.98 284.13 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: rgb(0, 0, 0); stroke: rgb(0, 0, 0);"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: rgb(0, 0, 0);"><rect fill="#ffffff" stroke="none" x="196" y="222" width="114" height="27" stroke-width="0" style="fill: rgb(255, 255, 255);"/><text x="252.16" y="232.76">Cleanup Worker</text><text x="252.16" y="245.76">(确认已付 → 修复状态)</text></g></g></g><g data-cell-id="rhbHhM7paaSlAsIb1_o0-11"><g><path d="M 149 326.18 Q 81 381 81 459 Q 81 537 139.55 578.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: rgb(0, 0, 0);"/><path d="M 143.84 581.36 L 136.1 580.18 L 139.55 578.33 L 140.14 574.46 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: rgb(0, 0, 0); stroke: rgb(0, 0, 0);"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: rgb(0, 0, 0);"><rect fill="#ffffff" stroke="none" x="2" y="442" width="160" height="27" stroke-width="0" style="fill: rgb(255, 255, 255);"/><text x="81" y="452.66">发货成功</text><text x="81" y="465.66">(Consumer 触发 / Recover 补偿)</text></g></g></g><g data-cell-id="rhbHhM7paaSlAsIb1_o0-12"><g><path d="M 196 325.43 Q 264 381 264.45 436.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: rgb(0, 0, 0);"/><path d="M 264.49 441.88 L 260.93 434.91 L 264.45 436.63 L 267.93 434.85 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: rgb(0, 0, 0); stroke: rgb(0, 0, 0);"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: rgb(0, 0, 0);"><rect fill="#ffffff" stroke="none" x="167" y="360" width="175" height="27" stroke-width="0" style="fill: rgb(255, 255, 255);"/><text x="254.08" y="370.89">发货失败</text><text x="254.08" y="383.89">(ShippingRecoverWorker 重试超限)</text></g></g></g><g data-cell-id="rhbHhM7paaSlAsIb1_o0-13"><g><path d="M 264.5 483 Q 264 537 206.18 578.3" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: rgb(0, 0, 0);"/><path d="M 201.91 581.35 L 205.57 574.43 L 206.18 578.3 L 209.64 580.13 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: rgb(0, 0, 0); stroke: rgb(0, 0, 0);"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: rgb(0, 0, 0);"><rect fill="#ffffff" stroke="none" x="194" y="531" width="121" height="27" stroke-width="0" style="fill: rgb(255, 255, 255);"/><text x="254.24" y="541.97">ShippingRecoverWorker</text><text x="254.24" y="554.97">(下一轮重试成功)</text></g></g></g></g></g></g></svg>